var U=Object.defineProperty;var x=Object.getOwnPropertySymbols;var j=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var k=(e,t,n)=>t in e?U(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,w=(e,t)=>{for(var n in t||(t={}))j.call(t,n)&&k(e,n,t[n]);if(x)for(var n of x(t))B.call(t,n)&&k(e,n,t[n]);return e};import{_ as b,o as r,c as p,i as V,w as o,F as C,e as $,s as y,d as a,t as m,u as N,r as c,a as l,h as g,k as M,b as S}from"./entry-c6c6a655.mjs";import{_ as F}from"./crud-49fc240a.mjs";import"./actions-b79a095e.mjs";const z={props:{modelValue:{default:!1,type:[Boolean,Object]}},computed:{propsModelValue:{get(){return this.modelValueParse(this.modelValue)},set(e){this.$emit("update:modelValue",e),console.log("value",e)}}},methods:{modelValueParse(e){return typeof e!="object"&&(e={}),typeof e.layout!="object"&&(e.layout={is:"div"}),Array.isArray(e.sections)||(e.sections=[]),e}}},L={class:"elevation-1 ma-2 pa-3"};function O(e,t,n,h,s,d){return r(),p("div",L,[(r(),V(y(d.propsModelValue.layout.comp),null,{default:o(()=>[(r(!0),p(C,null,$(d.propsModelValue.sections,_=>(r(),V(y(_.comp),{onClick:v=>e.$emit("section",_)},null,8,["onClick"]))),256))]),_:1})),a("pre",null,"propsModelValue: "+m(d.propsModelValue),1)])}var R=b(z,[["render",O]]);const T={props:{modelValue:{default:!1,type:[Boolean,Object]}},data(){return{editorDialog:!0,elementEdit:!1,elements:N({method:"get",url:"/api/pages-elements/search",params:{},submit:!0})}},computed:{propsModelValue:{get(){return this.modelValueParse(this.modelValue)},set(e){this.$emit("update:modelValue",e),console.log("value",e)}},elementsParsed(){return this.elements.resp?this.elements.resp.data.map(e=>(e.comp=new Function(`return ${e.comp};`)(),e.edit=new Function(`return ${e.edit};`)(),console.log(e.comp),e)):[]}},methods:{modelValueParse(e){return typeof e!="object"&&(e={}),typeof e.layout!="object"&&(e.layout={comp:"div"}),Array.isArray(e.sections)||(e.sections=[]),e},uuid(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16))},sectionAdd(e){let t=this.modelValueParse(this.propsModelValue);t.sections.push(w({key:this.uuid()},e)),this.propsModelValue=t},sectionRemove(e){},layoutSet(e){this.propsModelValue.layout=e}}},q=a("div",{class:"py-4"},"Editar",-1),G=g("Editar"),H=g("mdi-close"),I={class:"d-flex",style:{height:"calc(100vh - 55px)",overflow:"auto"}},J={style:{"min-width":"300px","max-width":"300px"}},K=g("Add"),Q=a("div",{class:"font-weight-bold"},"Layouts",-1),W={key:0},X={class:"flex-grow-1 pa-3"};function Y(e,t,n,h,s,d){const _=c("v-btn"),v=c("v-toolbar-title"),u=c("v-icon"),f=c("v-toolbar"),P=c("v-divider"),A=R,D=c("v-card"),E=c("v-dialog");return r(),p("div",null,[l(_,{block:"",color:"primary",onClick:t[0]||(t[0]=i=>s.editorDialog=!0)},{default:o(()=>[q]),_:1}),l(E,{modelValue:s.editorDialog,"onUpdate:modelValue":t[5]||(t[5]=i=>s.editorDialog=i),fullscreen:""},{default:o(()=>[s.elements.resp?(r(),V(D,{key:0},{default:o(()=>[l(f,null,{default:o(()=>[l(v,null,{default:o(()=>[G]),_:1}),l(_,{onClick:t[1]||(t[1]=i=>s.editorDialog=!1)},{default:o(()=>[l(u,null,{default:o(()=>[H]),_:1})]),_:1})]),_:1}),a("div",I,[a("div",J,[l(_,{onClick:t[2]||(t[2]=i=>d.sectionAdd(s.elements[0]))},{default:o(()=>[K]),_:1}),l(P),Q,(r(!0),p(C,null,$(d.elementsParsed,i=>(r(),V(_,{block:"",onClick:se=>d.layoutSet(i)},{default:o(()=>[g(m(i.name||"no name"),1)]),_:2},1032,["onClick"]))),256)),a("pre",null,m(s.elements),1),s.elementEdit?(r(),p("div",W,[(r(),V(y(s.elementEdit.edit)))])):M("",!0)]),a("div",X,[l(A,{modelValue:d.propsModelValue,"onUpdate:modelValue":t[3]||(t[3]=i=>d.propsModelValue=i),onSection:t[4]||(t[4]=i=>s.elementEdit=i)},null,8,["modelValue"])])])]),_:1})):M("",!0)]),_:1},8,["modelValue"])])}var Z=b(T,[["render",Y]]);const ee={},te=a("th",null,"P\xE1gina",-1),oe={class:"font-weight-bold"},le={class:"font-weight-thin"};function ne(e,t){const n=c("v-text-field"),h=c("v-col"),s=Z,d=c("v-row"),_=F,v=S;return r(),p("div",null,[l(v,{name:"admin"},{default:o(()=>[l(_,{namespace:"pages",singular:"P\xE1gina",plural:"P\xE1ginas"},{"search-table-header":o(()=>[te]),"search-table-item":o(({item:u})=>[a("td",null,[a("div",oe,m(u.name),1),a("div",le,"/"+m(u.slug),1)])]),"edit-fields":o(u=>[l(d,null,{default:o(()=>[l(h,{size:"12"},{default:o(()=>[l(n,{label:"Nome",modelValue:u.edit.name,"onUpdate:modelValue":f=>u.edit.name=f},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(h,{size:"12"},{default:o(()=>[l(s,{modelValue:u.edit.content,"onUpdate:modelValue":[f=>u.edit.content=f,e.$log]},null,8,["modelValue","onUpdate:modelValue"]),a("pre",null,m(u.edit),1)]),_:2},1024)]),_:2},1024)]),_:1})]),_:1})])}var ue=b(ee,[["render",ne]]);export{ue as default};
