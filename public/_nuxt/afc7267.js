(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{634:function(e,t,n){"use strict";n.r(t);var o=n(20),r=(n(61),n(25),n(75),n(12),n(98),n(28),n(27),n(604),n(411),{props:{value:{default:""},url:{default:""}},watch:{$props:{deep:!0,handler:function(e){this.__preventRecursive||(this.props=JSON.parse(JSON.stringify(e)))}},props:{deep:!0,handler:function(e){var t=this;for(var i in this.__preventRecursive=!0,this.$emit("input",e.value||!1),e)this.$emit("update:".concat(i),e[i]);setTimeout((function(){t.__preventRecursive=!1}),10)}}},data:function(){return{props:JSON.parse(JSON.stringify(this.$props))}},methods:{photopeaIframeUrl:function(){var e=Object.assign(new URL(location.href),{pathname:this.props.url}).toString().replace(/\?.+/g,"");return"https://www.photopea.com#"+JSON.stringify({files:[e]})},save:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"jpg",t=this.$refs.photopeaIframe.contentWindow;t.postMessage('activeDocument.saveToOE("'.concat(e,'")'),"*")},photopeaIframeCallback:function(e){var t=this;if("object"==Object(o.a)(e.data)){var n=new Blob([e.data],{type:"image/jpeg"}),r=new FileReader;r.readAsDataURL(n),r.onloadend=function(){t.props.value=r.result,t.$forceUpdate()}}}},mounted:function(){window.addEventListener("message",this.photopeaIframeCallback)},beforeDestroy:function(){window.removeEventListener("message",this.photopeaIframeCallback)}}),c=r,l=n(11),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{width:"100%",height:"400px"}},[n("iframe",{ref:"photopeaIframe",staticStyle:{position:"relative",width:"100%",height:"100%",border:"none"},attrs:{src:e.photopeaIframeUrl()}})])}),[],!1,null,null,null);t.default=component.exports}}]);