(window.webpackJsonp=window.webpackJsonp||[]).push([[21,9,10,13,15],{546:function(t,e,n){var content=n(551);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(74).default)("039c59a2",content,!0,{sourceMap:!1})},547:function(t,e,n){"use strict";n.r(e);n(12);var r={props:{value:[Boolean,Object],method:{default:"get"},action:{default:""},mountedSubmit:{default:!1,type:Boolean}},data:function(){return{loading:!1,response:!1,error:!1,errorFields:{}}},methods:{submit:function(){var t=this;return this.loading=!0,this.error=!1,this.errorFields={},this.$axios({method:this.method,url:this.action,data:"get"!=this.method?this.value:null,params:"get"==this.method?this.value:null}).then((function(e){var n=t.parseResponseData(e.data);t.loading=!1,t.response=n,t.$emit("success",n),t.$emit("response",n)})).catch((function(e){var n=t.parseResponseData(e.response.data);t.loading=!1,t.error=n.message,t.errorFields=n.fields,t.$emit("error",n),t.$emit("response",n)}))},parseResponseData:function(t){return["per_page","page"].forEach((function(e){"string"==typeof t[e]&&(t[e]=parseInt(t[e]))})),t}},mounted:function(){this.mountedSubmit&&this.submit()}},o=n(16),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("form",{attrs:{action:""},on:{submit:function(e){return e.preventDefault(),t.submit()}}},[t._t("default",null,{loading:t.loading,response:t.response,error:t.error,errorFields:t.errorFields})],2)}),[],!1,null,null,null);e.default=component.exports},548:function(t,e,n){"use strict";n.r(e);var r=n(21),o=(n(549),n(552),n(189),{props:{label:{default:""},layout:{default:"vertical"},labelWidth:{default:"200px"},error:[Boolean,Number,String,Array,Object]},computed:{compError:function(){var t=[];return"string"==typeof this.error?t=[this.error]:Array.isArray(this.error)?t=this.error:"object"==Object(r.a)(this.error)&&(t=Object.values(this.error)),t.join("<br>")}}}),l=(n(550),n(16)),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",["horizontal"==t.layout?n("div",{staticClass:"d-flex align-items-center mb-3"},[n("div",{staticClass:"pe-3",style:{minWidth:t.labelWidth,maxWidth:t.labelWidth}},[t._t("label",(function(){return[t._v(t._s(t.label))]}))],2),t._v(" "),n("div",{staticClass:"flex-grow-1"},[t._t("default"),t._v(" "),n("div",{staticClass:"ui-field-info"},[t._t("info")],2),t._v(" "),t.compError?n("small",{staticClass:"d-block text-danger pt-1",domProps:{innerHTML:t._s(t.compError)}}):t._e()],2)]):n("div",{staticClass:"mb-3"},[n("div",{staticClass:"form-label"},[t._t("label",(function(){return[t._v(t._s(t.label))]}))],2),t._v(" "),t._t("default"),t._v(" "),n("div",{staticClass:"ui-field-info"},[t._t("info")],2),t._v(" "),t.compError?n("small",{staticClass:"d-block text-danger pt-1",domProps:{innerHTML:t._s(t.compError)}}):t._e()],2)])}),[],!1,null,null,null);e.default=component.exports},550:function(t,e,n){"use strict";n(546)},551:function(t,e,n){var r=n(73)(!1);r.push([t.i,".ui-field-info *{font-size:12px;color:var(--bs-gray)!important}",""]),t.exports=r},562:function(t,e,n){"use strict";n.r(e);n(94),n(406),n(12);var r={props:{modelName:{type:""}},data:function(){return{finding:!1,value:{}}},methods:{find:function(){var t=this;+this.$route.params.id&&(this.finding=!0,this.$axios.get("/api/".concat(this.modelName,"/find/").concat(this.$route.params.id)).then((function(e){t.finding=!1,t.value=e.data})))}},mounted:function(){this.find()}},o=n(16),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ui-form",{attrs:{method:"post",action:"/api/"+t.modelName+"/save"},on:{success:function(e){return t.$router.go(-1)}},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.loading,o=e.error,l=e.errorFields;return[n("div",{staticClass:"bg-white p-3 shadow-sm"},[t._t("default",null,{value:t.value,loading:r,error:o,errorFields:l})],2),t._v(" "),n("div",{staticClass:"text-end mt-3 p-3 bg-white shadow-sm"},[t.value.id?n("nuxt-link",{staticClass:"btn btn-light",attrs:{to:"/admin/"+t.modelName+"/new"}},[t._v("\n            Novo\n        ")]):t._e(),t._v(" "),n("button",{staticClass:"btn btn-light",attrs:{type:"button"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("\n            Voltar\n        ")]),t._v(" "),n("button",{directives:[{name:"loading",rawName:"v-loading",value:r,expression:"loading"}],staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("\n            Salvar\n        ")])],1)]}}],null,!0),model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{UiForm:n(547).default})},563:function(t,e,n){var content=n(567);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(74).default)("543daf0d",content,!0,{sourceMap:!1})},564:function(t,e,n){"use strict";n.r(e);var r={props:{container:{default:!0},header:"",body:"",footer:""}},o=n(16),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{container:t.container}},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-header"},[t._v("\n            "+t._s(t.header)+"\n        ")]),t._v(" "),n("div",{staticClass:"card-body"},[t._v("\n            "+t._s(t.body)+"\n        ")]),t._v(" "),n("div",{staticClass:"card-footer"},[t._v("\n            "+t._s(t.footer)+"\n        ")])])])}),[],!1,null,null,null);e.default=component.exports},565:function(t,e,n){"use strict";n.r(e);var r={props:{container:{default:!0},header:"",body:"",footer:""}},o=n(16),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("ui-field",{attrs:{label:"Container"}},[n("input",{attrs:{type:"checkbox"},domProps:{value:t.container,checked:!!t.container},on:{input:function(e){return t.$emit("update:container",e.target.checked)}}})]),t._v(" "),n("ui-field",{attrs:{label:"Header"}},[n("input",{staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.header},on:{input:function(e){return t.$emit("update:header",e.target.value)}}})]),t._v(" "),n("ui-field",{attrs:{label:"Body"}},[n("input",{staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.body},on:{input:function(e){return t.$emit("update:body",e.target.value)}}})]),t._v(" "),n("ui-field",{attrs:{label:"Footer"}},[n("input",{staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.footer},on:{input:function(e){return t.$emit("update:footer",e.target.value)}}})])],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{UiField:n(548).default})},566:function(t,e,n){"use strict";n(563)},567:function(t,e,n){var r=n(73)(!1);r.push([t.i,".ui-content-section-active{outline:solid 1px var(--bs-primary)}",""]),t.exports=r},570:function(t,e,n){"use strict";n.r(e);n(49),n(34),n(41),n(75),n(76);var r=n(21),o=n(29),l=(n(549),n(12),n(35),n(407),n(60),n(568));function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var d={props:{value:{type:[Boolean,Number,String,Array,Object]},edit:{default:!1,type:Boolean}},components:{draggable:n.n(l).a},watch:{$props:{deep:!0,handler:function(t){this.$el.contains(document.activeElement)||(this.props=JSON.parse(JSON.stringify(t)),this.props.value=this.validPropsValue(this.props.value||{}))}}},data:function(){var t=JSON.parse(JSON.stringify(this.$props));return t.value=this.validPropsValue(t.value||{}),{props:t,elements:[{meta:{id:"test",name:"Test",bind:{container:!0,header:"",body:"",footer:""}},component:n(564).default,edit:n(565).default}],sectionEdit:"",drawerElements:!1}},methods:{emitValue:function(){this.$emit("input",this.props.value),this.$emit("change",this.props.value),this.$emit("value",this.props.value)},sectionAdd:function(t){var e=this;return new Promise((function(n,r){t=JSON.parse(JSON.stringify(t)),t=function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({_id:"section-"+Math.round(99999*Math.random())},t.meta),e.props.value=e.props.value||{},e.props.value.sections=e.props.value.sections||[],e.props.value.sections.push(t),e.emitValue(),n(t)}))},sectionRemove:function(t){var e=this;this.props.value.sections.forEach((function(n,r){t._id==n._id&&(e.props.value.sections.splice(r,1),e.emitValue())}))},getComponent:function(t){for(var i in this.elements){var e=this.elements[i];if(t.id==e.meta.id)return e}return{}},validPropsValue:function(t){return"object"==!Object(r.a)(t)&&(t={}),t.title=t.title||"",t.sections=t.sections||[],t},validateValue:function(){this.props.value=this.props.value||{},"string"==typeof this.props.value&&(this.props.value=JSON.parse(this.props.value)),("object"!=Object(r.a)(this.props.value)||"object"==Object(r.a)(this.props.value)&&!Array.isArray(this.props.value))&&(this.props.value={}),this.props.value.title=this.props.value.title||"",this.props.value.sections||(this.props.value.sections=[]),this.props.value.sections=this.props.value.sections.map((function(section){return section._id=section._id||"section-"+Math.round(99999*Math.random()),section})),this.emitValue()},handlerDrawerSectionClick:function(t){this.emitValue(),t.target.classList.contains("el-drawer__container")&&(this.sectionEdit=!1)}}},v=d,f=(n(566),n(16)),component=Object(f.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex",on:{click:function(e){return t.emitValue()}}},[n("transition",{attrs:{name:"el-zoom-in-center"}},[t.edit?n("div",{staticClass:"bg-light",staticStyle:{"min-width":"250px","max-width":"250px","animation-duration":"300ms"}},[n("button",{staticClass:"btn btn-primary w-100",attrs:{type:"button"},on:{click:function(e){t.drawerElements=!0}}},[t._v("\n                Adicionar elemento\n            ")]),t._v(" "),n("draggable",t._b({on:{end:function(e){return t.emitValue()}},model:{value:t.props.value.sections,callback:function(e){t.$set(t.props.value,"sections",e)},expression:"props.value.sections"}},"draggable",{handle:".handle",animation:150},!1),t._l(t.props.value.sections||[],(function(s,i){return n("div",{key:s._id},[n("div",{staticClass:"input-group form-control p-0 mt-2"},[n("div",{staticClass:"input-group-text handle border-0",staticStyle:{cursor:"s-resize"}},[t._v(":::")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:s.name,expression:"s.name"}],staticClass:"form-control border-0",attrs:{type:"text"},domProps:{value:s.name},on:{input:function(e){e.target.composing||t.$set(s,"name",e.target.value)}}}),t._v(" "),n("div",{staticClass:"input-group-btn"},[n("button",{staticClass:"btn btn-danger rounded-0 border-0",attrs:{type:"button"},on:{click:function(e){return t.sectionRemove(s)}}},[n("i",{staticClass:"fas fa-fw fa-times"})])])]),t._v(" "),n("el-drawer",{attrs:{direction:"ltr","with-header":!1,size:"300px",visible:t.sectionEdit==s._id,modal:!1},nativeOn:{click:function(e){return t.handlerDrawerSectionClick(e)}}},[n("div",{staticClass:"p-3"},[n("input",{directives:[{name:"model",rawName:"v-model",value:s.name,expression:"s.name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:s.name},on:{input:function(e){e.target.composing||t.$set(s,"name",e.target.value)}}}),t._v(" "),n(t.getComponent(s).edit,t._b({tag:"component"},"component",s.bind,!1,!0))],1)])],1)})),0),t._v(" "),n("el-drawer",{attrs:{direction:"ltr","with-header":!1,size:"300px",visible:t.drawerElements,modal:!0},on:{"update:visible":function(e){t.drawerElements=e}}},t._l(t.elements,(function(e){return n("div",{staticClass:"d-flex align-items-center"},[n("div",{staticClass:"flex-grow-1"},[t._v(t._s(e.meta.name))]),t._v(" "),n("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button"},on:{click:function(n){t.sectionAdd(e).then((function(e){return t.sectionEdit=e._id})),t.drawerElements=!1}}},[t._v("\n                        +\n                    ")])])})),0)],1):t._e()]),t._v(" "),n("div",{staticClass:"flex-grow-1 ps-2"},[t.edit&&0==(t.props.value.sections||[]).length?n("div",{staticClass:"text-center py-5 bg-light"},[t._v("\n            Nenhum elemento adicionado\n        ")]):t._e(),t._v(" "),t._l(t.props.value.sections||[],(function(s,i){return n("div",{class:{"ui-content-section-active":t.sectionEdit==s._id},on:{click:function(e){t.sectionEdit=s._id}}},[n(t.getComponent(s).component,t._b({tag:"component"},"component",s.bind,!1))],1)}))],2)],1)}),[],!1,null,null,null);e.default=component.exports},583:function(t,e,n){"use strict";n.r(e);n(12),n(26),n(27),n(560),n(405);var r={layout:"admin",middleware:"auth",head:function(){return{title:"Editar página"}},data:function(){return{baseUrl:new URL(location.href).protocol+"//"+new URL(location.href).host+"/"}}},o=n(16),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ui-model-edit",{attrs:{"model-name":"pages"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.value,o=e.errorFields;return[n("ui-field",{attrs:{label:"Nome da página",layout:"horizontal",error:o.name}},[n("input",{directives:[{name:"model",rawName:"v-model",value:r.name,expression:"value.name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:r.name},on:{input:function(e){e.target.composing||t.$set(r,"name",e.target.value)}}})]),t._v(" "),n("ui-field",{attrs:{label:"URL",layout:"horizontal",error:o.slug}},[n("div",{staticClass:"input-group form-control p-0"},[n("div",{staticClass:"input-group-text border-0 bg-transparent"},[t._v(t._s(t.baseUrl))]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:r.slug,expression:"value.slug"}],staticClass:"form-control border-0 bg-transparent",attrs:{type:"text"},domProps:{value:r.slug},on:{input:function(e){e.target.composing||t.$set(r,"slug",e.target.value)}}}),t._v(" "),n("div",{staticClass:"input-group-btn"},[n("a",{staticClass:"btn",attrs:{href:t.baseUrl+r.slug,target:"_blank"}},[n("i",{staticClass:"fas fa-fw fa-link"})])])])]),t._v(" "),n("ui-field",{attrs:{error:o.content}},[n("ui-content",{attrs:{edit:!0},model:{value:r.content,callback:function(e){t.$set(r,"content",e)},expression:"value.content"}})],1)]}}])})}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{UiField:n(548).default,UiContent:n(570).default,UiModelEdit:n(562).default})}}]);