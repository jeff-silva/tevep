var B=Object.defineProperty;var D=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var z=(e,a,t)=>a in e?B(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,A=(e,a)=>{for(var t in a||(a={}))T.call(a,t)&&z(e,t,a[t]);if(D)for(var t of D(a))q.call(a,t)&&z(e,t,a[t]);return e};import{_ as C,I as P,r as m,o as u,c as v,d as s,t as b,a as d,w as n,H as I,l as j,n as H,m as O,J as U,i as x,k as f,h,K as S,b as L}from"./entry-c6c6a655.mjs";import{_ as E}from"./crud-49fc240a.mjs";import"./actions-b79a095e.mjs";const G={props:{modelValue:{type:Array,default:()=>[]},layout:{default:"horizontal"},max:{default:7},singular:{default:"Item"},plural:{default:"Itens"},areaWidth:{default:2e3}},components:{draggable:P},computed:{propsModelValue:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},data(){return{dialog:!1}},methods:{slotBind(e={}){return A({add:this.add,remove:this.remove,items:this.propsModelValue,canAdd:this.propsModelValue.length<this.max},e)},dialogItem(e){this.dialog=e},add(){this.propsModelValue.push({name:""})},remove(e){this.$confirm(`Deseja remover este ${this.singular}?`).then(a=>{const t=this.propsModelValue.indexOf(e);this.propsModelValue.splice(t,1),this.dialogItem(!1)})}}},J={class:"text-center"},K={class:"mb-3"},R=h("mdi-drag"),F={class:"flex-grow-1"},Q=h("Deletar"),X=h("Converter em projeto"),Y=h("Ok");function Z(e,a,t,k,g,l){const _=m("v-icon"),c=m("v-text-field"),V=m("v-btn"),p=m("v-card-text"),y=m("v-spacer"),w=m("v-card-actions"),o=m("v-card"),M=m("v-dialog"),W=m("draggable");return u(),v("div",J,[s("div",K,[s("strong",null,b(t.plural),1)]),s("div",{class:U({"d-flex flex-column":t.layout=="vertical","d-inline-flex align-center":t.layout=="horizontal"})},[d(W,{modelValue:l.propsModelValue,"onUpdate:modelValue":a[2]||(a[2]=i=>l.propsModelValue=i),animation:150,class:U({"d-flex flex-column":t.layout=="vertical","d-flex":t.layout=="horizontal"})},{item:n(({element:i,index:N})=>[s("div",null,[s("div",{class:"flex-grow-1 d-flex align-center ma-1",style:I(t.layout=="horizontal"?`width:${t.areaWidth/t.max-7}px;`:"")},[d(_,{class:"mx-2",style:{cursor:"move"}},{default:n(()=>[R]),_:1}),s("div",F,[j(e.$slots,"item",H(O(this.slotBind({element:i}))),()=>[d(c,{label:`${t.singular} ${N+1}`,"hide-details":"",modelValue:i.name,"onUpdate:modelValue":r=>i.name=r},null,8,["label","modelValue","onUpdate:modelValue"])])]),d(V,{flat:"",class:"ms-2",icon:"mdi-dots-vertical",onClick:r=>l.dialogItem(i)},null,8,["onClick"])],4),d(M,{"model-value":g.dialog&&g.dialog.meta_ref==i.meta_ref,"onClick:outside":a[1]||(a[1]=r=>l.dialogItem(!1))},{default:n(()=>[d(o,{title:t.plural,subtitle:`Gerenciador de ${t.singular}`},{default:n(()=>[d(p,{style:{width:"600px","max-width":"95vw"}},{default:n(()=>[d(c,{label:"Nome",modelValue:i.name,"onUpdate:modelValue":r=>i.name=r,"hide-details":"",class:"mb-5"},null,8,["modelValue","onUpdate:modelValue"]),d(c,{label:"Data in\xEDcio",modelValue:i.date_start,"onUpdate:modelValue":r=>i.date_start=r,"prepend-inner-icon":"mdi-calendar","hide-details":"",class:"mb-5"},null,8,["modelValue","onUpdate:modelValue"]),d(c,{label:"Data fim",modelValue:i.date_final,"onUpdate:modelValue":r=>i.date_final=r,"prepend-inner-icon":"mdi-calendar","hide-details":"",class:"mb-5"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),d(w,null,{default:n(()=>[d(y),d(V,{flat:"",color:"error",onClick:r=>l.remove(i)},{default:n(()=>[Q]),_:2},1032,["onClick"]),d(V,{flat:"",onClick:r=>e.$log(i)},{default:n(()=>[X]),_:2},1032,["onClick"]),d(V,{flat:"",color:"primary",onClick:a[0]||(a[0]=r=>l.dialogItem(!1))},{default:n(()=>[Y]),_:1})]),_:2},1024)]),_:2},1032,["title","subtitle"])]),_:2},1032,["model-value"])])]),_:3},8,["modelValue","class"]),s("div",{class:U({"d-flex text-center mt-3":t.layout=="vertical","d-flex":t.layout=="horizontal"})},[l.propsModelValue.length<t.max?(u(),x(V,{key:0,icon:"mdi-plus",onClick:a[3]||(a[3]=i=>l.add()),title:`Adicionar ${t.singular}`,class:"mx-auto"},null,8,["title"])):f("",!0)],2)],2)])}var $=C(G,[["render",Z]]);const ee={props:{modelValue:{type:Object},areaWidth:{default:2e3}},computed:{propsModelValue:{get(){return this.modelValueValid(this.modelValue)},set(e){this.$emit("update:modelValue",this.modelValueValid(e))}}},methods:{modelValueValid(e){return e.name=e.name||"",e.date_start=e.date_start||"",e.date_final=e.date_final||"",e.meta=e.meta||{},e.meta.tempos=e.meta.tempos||[],e.meta.pilotos=e.meta.pilotos||[],e.meta.convidados=e.meta.convidados||[],e.meta.lugares=e.meta.lugares||[],e.meta.utilidades=e.meta.utilidades||[],e.meta.inerencias=e.meta.inerencias||[],e.meta.expectativas=e.meta.expectativas||[],e.meta.inovacoes=e.meta.inovacoes||[],e.meta.logisticas=e.meta.logisticas||[],e.meta.relevancias=e.meta.relevancias||[],e.meta.complexidades=e.meta.complexidades||[],e.meta.custos=e.meta.custos||[],e.meta.entregas=e.meta.entregas||[],e.meta.segurancas=e.meta.segurancas||[],e.meta.atendimentos=e.meta.atendimentos||[],e.meta.qualidades=e.meta.qualidades||[],e.meta.maquinas=e.meta.maquinas||[],e.meta.materiais=e.meta.materiais||[],e.meta.maodeobras=e.meta.maodeobras||[],e.meta.meioambientes=e.meta.meioambientes||[],e.meta.metodos=e.meta.metodos||[],e}}},ae={style:{"max-width":"100%",overflow:"auto"}},te={key:0},le=h("Add"),de=h(" Add "),oe={key:1},ne=h(" Add "),se={class:"text-center my-5"};function ie(e,a,t,k,g,l){const _=m("v-text-field"),c=$,V=m("v-btn"),p=m("v-col"),y=m("v-row"),w=S;return u(),v("div",ae,[s("div",{style:I(`width:${t.areaWidth}px;`)},[l.propsModelValue.date_start&&l.propsModelValue.date_final?(u(),v("div",te,[d(c,{modelValue:l.propsModelValue.meta.tempos,"onUpdate:modelValue":a[0]||(a[0]=o=>l.propsModelValue.meta.tempos=o),"area-width":t.areaWidth,singular:"Tempo",plural:"Tempos"},{item:n(({element:o})=>[d(_,{label:"Data",modelValue:o.date_start,"onUpdate:modelValue":M=>o.date_start=M,"hide-details":""},null,8,["modelValue","onUpdate:modelValue"])]),_:1},8,["modelValue","area-width"])])):f("",!0),d(y,{class:"my-5 align-center",style:{"min-height":"400px"}},{default:n(()=>[d(p,{cols:"3"},{default:n(()=>[l.propsModelValue.meta.lugares.length?(u(),x(c,{key:0,modelValue:l.propsModelValue.meta.pilotos,"onUpdate:modelValue":a[1]||(a[1]=o=>l.propsModelValue.meta.pilotos=o),"area-width":t.areaWidth,layout:"vertical",singular:"Piloto",plural:"Pilotos"},{bottom:n(o=>[o.canAdd?(u(),x(V,{key:0,block:"",onClick:M=>o.add()},{default:n(()=>[le]),_:2},1032,["onClick"])):f("",!0),s("pre",null,b(o),1)]),_:1},8,["modelValue","area-width"])):f("",!0)]),_:1}),d(p,{cols:"6",class:"text-center"},{default:n(()=>[l.propsModelValue.name?(u(),x(y,{key:0,class:"mx-auto app-tevep-edit-center",style:{"max-width":"350px"}},{default:n(()=>[d(p,{cols:"12",md:"6"},{default:n(()=>[d(_,{label:"Data in\xEDcio","prepend-inner-icon":"mdi-calendar","hide-details":"",modelValue:l.propsModelValue.date_start,"onUpdate:modelValue":a[2]||(a[2]=o=>l.propsModelValue.date_start=o)},null,8,["modelValue"])]),_:1}),d(p,{cols:"12",md:"6"},{default:n(()=>[d(_,{label:"Data fim","prepend-inner-icon":"mdi-calendar","hide-details":"",modelValue:l.propsModelValue.date_final,"onUpdate:modelValue":a[3]||(a[3]=o=>l.propsModelValue.date_final=o)},null,8,["modelValue"])]),_:1}),d(p,{cols:"12"},{default:n(()=>[d(_,{label:"Nome do evento","hide-details":"",modelValue:l.propsModelValue.name,"onUpdate:modelValue":a[4]||(a[4]=o=>l.propsModelValue.name=o)},null,8,["modelValue"])]),_:1})]),_:1})):f("",!0)]),_:1}),d(p,{cols:"3"},{default:n(()=>[l.propsModelValue.meta.lugares.length?(u(),x(c,{key:0,modelValue:l.propsModelValue.meta.convidados,"onUpdate:modelValue":a[5]||(a[5]=o=>l.propsModelValue.meta.convidados=o),"area-width":t.areaWidth,layout:"vertical",singular:"Convidado",plural:"Convidados"},{bottom:n(o=>[de]),_:1},8,["modelValue","area-width"])):f("",!0)]),_:1})]),_:1}),l.propsModelValue.meta.tempos.length?(u(),v("div",oe,[d(c,{modelValue:l.propsModelValue.meta.lugares,"onUpdate:modelValue":a[6]||(a[6]=o=>l.propsModelValue.meta.lugares=o),"area-width":t.areaWidth,singular:"Lugar",plural:"Lugares"},{right:n(o=>[ne]),_:1},8,["modelValue","area-width"])])):f("",!0),s("div",se,[d(w,{modelValue:t.modelValue,"onUpdate:modelValue":a[7]||(a[7]=o=>t.modelValue=o)},null,8,["modelValue"])])],4)])}var me=C(ee,[["render",ie]]);const re={},ue=s("th",null,"Nome",-1),ce=s("th",null,"Data",-1),_e={class:"bg-white pa-3",style:{margin:"0 -20px 0 -20px"}};function pe(e,a){const t=me,k=E,g=L;return u(),v("div",null,[d(g,{name:"admin"},{default:n(()=>[d(k,{namespace:"teveps",singular:"Tevep",plural:"Teveps","edit-fluid":!0},{"search-table-header":n(()=>[ue,ce]),"search-table-item":n(({item:l})=>[s("td",null,b(l.name),1),s("td",null,[s("div",null,"De "+b(e.$filters.dateHuman(l.date_start)),1),s("div",null,"At\xE9 "+b(e.$filters.dateHuman(l.date_final)),1)])]),"edit-card":n(l=>[s("div",_e,[d(t,{modelValue:l.edit,"onUpdate:modelValue":_=>l.edit=_,"area-width":1700},null,8,["modelValue","onUpdate:modelValue"])])]),_:1})]),_:1})])}var xe=C(re,[["render",pe]]);export{xe as default};
